// Modificamos la opción videoURL para aceptar un enlace de Vimeo
var defaults = {
    videoURL: 'https://vimeo.com/814135069', // Ejemplo de enlace de Vimeo
    containment: 'body',
    ratio: 'auto',
    loop: true,
    mute: true,
    quality: 'default',
    opacity: 1,
    addRaster: false,
    showControls: false,
    onReady: function() {},
    onError: function() {}
};

// Eliminamos todo el código de YouTube API y lo reemplazamos con una llamada a Vimeo
onYouTubeIframeAPIReady: function() {
    var $YTPlayer = $(this);
    if ($YTPlayer.data('property')) {
        if ($YTPlayer.data('property').videoURL.indexOf('youtu') > 0) {
            $YTPlayer.YTPReady(function() {
                $YTPlayer.YTPChangeVideo({
                    videoURL: $YTPlayer.data('property').videoURL,
                    mute: $YTPlayer.data('property').mute,
                    addRaster: $YTPlayer.data('property').addRaster,
                    quality: $YTPlayer.data('property').quality
                });
            });
        } else {
            // Llamamos al video de Vimeo
            var options = $YTPlayer.data('property');
            var vimeoId = options.videoURL.split('vimeo.com/')[1].split('?')[0];
            var vimeoURL = 'https://player.vimeo.com/video/' + vimeoId + '?loop=1&title=0&byline=0&portrait=0&background=1&autoplay=1&api=1';

            // Agregamos un iFrame para reproducir el video de Vimeo
            $YTPlayer.html('<iframe src="' + vimeoURL + '" frameborder="0" allowfullscreen></iframe>');
        }
    }
}
